/* global ID_CLICK_BY_HISTORY: true, take_candidate_snapshot *//* global G_SCRIPTS_LOADED, mcq_timers */// this will store list of all the problems
function $$(a){var b;if(jq_cache.hasOwnProperty(b))return jq_cache[b];var c=$(a);return jq_cache[a]=c,c}function startInititalTimers(a){for(var b in a)a.hasOwnProperty(b)&&startTimer(parseInt(b),parseInt(a[b]))}function startTimer(a,b,c){function e(){$(".countdown-left-"+a).show();var c=$(".countdown-"+a),e=$(".countdown-left-"+a);if(c.length>0&&e.length>0){var g=Math.floor(b/60);g<10&&(g="0"+g);var h=b-g*60;h<10&&(h="0"+h),c.html(g+":"+h),e.html("<i class='float-left fa-clock-o fa timer-icon'></i>"+g+":"+h)}if(b===0){clearInterval(d);var i=$("#question-"+a);i.html("<i class='float-left fa-clock-o fa timer-icon'></i> "+TIME_UP_MESSAGE);var j=$(".answer-"+a);j.length>0&&j.find(".load-next-question").trigger("click"),f()}b-=1}function f(){if(!c)return;$(".problem-"+c).children().not(".next-button-banner, .disabled-mcq").detach(),$(".disabled-mcq-"+c).removeClass("hidden")}window.mcq_timers||(window.mcq_timers=[]);var d;mcq_timers.indexOf(a)===-1&&(mcq_timers.push(parseInt(a)),b>=0?d=setInterval(e,1e3):f())}function disableInputs(){var a=document.getElementsByTagName("input");if(a)for(var b=0;b<a.length;++b)a[b].disabled=!0}function log_question_viewed_activity(a){$this=$(a),private_url_hash=$this.attr("id"),current_problem_id!=private_url_hash&&(current_problem_id=private_url_hash,url=$this.attr("activity-url"),event_id=$this.attr("event-id"),p_type_v=$this.attr("p-type"),data={event_id:event_id,p_type_v:p_type_v,private_url_hash:private_url_hash},$.ajax({url:url,type:"POST",data:data}))}function closeDropDown(){$(".expand-box").hide()}function setPositionOfNext(){var a=$(".single-problem-node"),b=$(".right-pane").height();for(var c=0;c<a.length;c++){var d=$(a[c]).height(),e=b-d;if(e>0){var f=70+e,g=$(a[c]).find(".next-button-banner");g.css("margin-top",f)}}}function fixMarksWidth(){var a=$(".red-box");for(var b=0;b<a.length;b++){var c=$(a[b]).width(),d=$(a[b]).siblings(".green-box");pos_mark_width=$(d).width(),c>pos_mark_width?(c+=3,$(d).css({width:c})):c<pos_mark_width&&(pos_mark_width-=3,$(a[b]).css({width:pos_mark_width}))}}function checkPermissionsAndRenderBluebook(){if(areAllPermissionsEnabledByUser())if(typeof renderBluebook=="undefined")window.global&&window.global.showAppropriateError();else{var a=$(".all-problems").length;isTestFinished||(a?($(".all-problems").show(),$(".all-problems").removeClass("hidden")):renderBluebook()),hide(".permission-container")}}function onWebcamLiveCode(){allPermissionsStatus.webcam_access=!0,checkPermissionsAndRenderBluebook()}function handleEnableFullscreen(){allPermissionsStatus.fullscreen_access=!0,enableFullscreen(),checkPermissionsAndRenderBluebook()}function onEnableFullscreenCode(){var a=Object.keys(allPermissionsStatus);if(a.length==1&&allPermissionsStatus["fullscreen_access"]!=undefined)handleEnableFullscreen();else{var b=$("#enable-fullscreen-modal");$("#show-fullscreen-modal-btn.show-modal").trigger("click"),b.find("#enable-fullscreen-btn").on("click",function(a){a.preventDefault(),a.stopPropagation(),b.closest("#simplemodal-container").find(".simplemodal-close").trigger("click"),handleEnableFullscreen()})}}function hide(a){$(a).addClass("hidden")}function show(a){$(a).removeClass("hidden")}function enableFullscreen(){var a=document.documentElement,b=a.requestFullscreen||a.webkitRequestFullScreen||a.webkitRequestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen;typeof b!="undefined"&&b&&b.call(a)}function isDocumentInFullscreen(){var a=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return a!=null}function fullscreenChanged(){isDocumentInFullscreen()?(allPermissionsStatus.fullscreen_access=!0,checkPermissionsAndRenderBluebook(),show(".view-body"),$(".diagram-container").length>0&&$(".diagram-container").show()):(allPermissionsStatus.fullscreen_access=!1,$("#problem-detail>div").hide(),$(".diagram-container").length>0&&$(".diagram-container").hide(),hide(".permission-item-container .permission-item, #permission-heading-before, #allow-permission-access-before, #admin-contact-info, .view-body"),show("#fullscreen-msg-after, #permission-heading-after, #allow-permission-access-after, .permission-container"),$(".permission-container").addClass("darker-background-overlay").find(">div").addClass("permission-container-modal"))}function showWebcamPermissions(){window.snapshotHandler.clearInterval(),allPermissionsStatus.webcam_access=!1,$("#problem-detail>div").hide(),hide("#permission-heading-after, #allow-permission-access-after, .view-body"),show("#webcam-errors-dialog, .permission-container")}var PROBLEM_LIST=[],jq_cache={},CLOSE_BROWSER=!1,current_problem_id=null,isTestFinished=!1,reorderSerialNumberAndSetNextValue=function(){var a=$(".s-no");a.each(function(b,c){var d=b+1,e=$(this).attr("private-url-hash");$(this).html(d+". "),$(".serial-number-"+e).html(d),$(".pr-serial-number-"+e).html(d),b!==a.length-1?(next_private_url_hash=a.eq(b+1).attr("private-url-hash"),$(".load-next-question-"+e).attr("target",next_private_url_hash)):$(".load-next-question-"+e).parent().addClass("not-visible")})},moveToNextQuestion=function(){$(".load-next-question").click()},disable_submit_button=function(){var a=$$("#problem-detail"),b=a.find("input[type=submit]");b.length>0&&b.attr("disabled","disabled")},enable_submit_button=function(){var a=$$("#problem-detail"),b=a.find("input[type=submit]");b.length>0&&b.removeAttr("disabled")},reset_mcq_answer=function(){$("#problem-detail").find("input[type=radio]:checked").removeAttr("checked")},mark_attempted=function(a){var b=$("#problem-detail").find(".errorlist li");if(b.length>=1)return;var c=$("#status-bar-"+a);c.addClass("blue-background"),c.attr("title",ATTEMPTED_MESSAGE),$("#status-bar-"+a).tipTip({content:ATTEMPTED_MESSAGE})},mark_unattempted=function(a){var b=$("#"+a+" .status").children().first(),c=$("#status-bar-"+a);c.removeClass("blue-background"),c.attr("title",NOT_ATTEMPTED_MESSAGE),$("#status-bar-"+a).tipTip({content:NOT_ATTEMPTED_MESSAGE})};$(document).ready(function(){$(document).ajaxError(function(a,b,c,d){typeof Raven!="undefined"&&Raven.isSetup()&&Raven.captureMessage(d||b.statusText,{extra:{type:c.type,url:c.url,data:c.data,status:b.status,error:d||b.statusText,response:b.responseText&&b.responseText.substring(0,100)}})}),$(".question-item").each(function(){PROBLEM_LIST.push($(this))}),$(".load-next-question").live("click",function(){var a=$(this),b=a.attr("target"),c=$("#"+b);return c.click(),!1}),$(".left-pane .question-item").live("click",function(){var a=$(this).attr("id");ID_CLICK_BY_HISTORY=a,$(".left-pane .question-item").removeClass("selected"),$(".left-pane").find("#"+a).addClass("selected");var b=$(".left-pane").scrollTop()+$(this).offset().top-47.5;$(".triangle-container").css("top",b)}),$("#problem-detail").delegate("input[type=submit], button:not(.compile-test-button)","click",function(a){var b=$(this).parent().attr("private-url-hash"),c=$(".mcq-options-"+b),d=c.find("input[type=radio]");if(d.length>0){if(!d.is(":checked"))return}else mark_attempted(b)}),$("#problem-detail").on("click","input[type=radio]",enable_submit_button),$("#problem-detail").on("click",".reset-answer-js-only",reset_mcq_answer),$("#problem-detail").on("click",".reset-answer",function(){var a=$(this).parent().attr("private-url-hash");mark_unattempted(a)}),$("#problem-detail").on("input propertychange","#wmd-input",function(){var a=$(".wmd-preview-container");a.hasClass("hidden")&&a.removeClass("hidden")});var a=function(){var a=$(".question-item").first();ID_CLICK_BY_HISTORY||(ID_CLICK_BY_HISTORY=a.attr("id"))};take_candidate_snapshot===!0?$("#my-camera").on("webcam:live",a):a(),$("#end-test-click").live("click",function(){CLOSE_BROWSER=!0}),checkPermissionsAndRenderBluebook()}),$(".right-pane").on("click",".android-submit-button",function(){$(".android-start-flow").tipTip({content:PLEASE_WAIT_MESSAGE_1}),$(".android-start-flow").removeClass("android-start-flow")}),$("body").on("click",".goto-first-unattempted-question",function(a){var b=$(this).data("problem-type");$(".section."+b).find(".status-bar:not(.blue-background)").first().trigger("click"),$(".close-modal-window").trigger("click")}),$("body").on("keyup",".test-input",function(){var a=$(this).val().length,b=1024-a;$(".test-input-remaining").html(b),b===0?$(".test-error").addClass("red-text"):$(".test-error").removeClass("red-text")}),$(".show-question-statement").on("click",function(){var a=$(this).attr("id");if(typeof active_private_url_hash!="undefined"){if(active_private_url_hash&&active_private_url_hash!==a){var b=document.getElementById("editor-container-"+active_private_url_hash);b&&b.dispatchEvent(new Event("hide"));var c=document.getElementById("editor-container-"+a);c&&c.dispatchEvent(new Event("show"))}active_private_url_hash=a}$(".single-problem-node").hide(),$(".problem-"+a).show(),$(".right-pane").scrollTop(0),$("#load-editor-button-"+a).trigger("click"),log_question_viewed_activity(this)}),$(".right-pane").on("click",".load-editor-button, .new-submission-tab, .all-submissions-tab",function(a,b){b||$(".right-pane").animate({scrollTop:$(this).offset().top-78+$(".right-pane").scrollTop()},"500","linear")}),$("body").on("change",".objective-option input[type='radio']",function(){var a=$(this).closest("ul"),b=a.find(".objective-option"),c=a.find(".objective-selected");b.removeClass("option-selected"),c.removeClass("objective-selected"),$(this).parent().addClass("option-selected"),$(this).siblings(".objective-virtual-radio").addClass("objective-selected")}),$(".right-pane").on("click",".next-button-banner",function(){$(this).find(".load-next-question")[0].click()}),$(".right-pane").on("click",".tab-container:not(.tab-selected)",function(a){$this=$(this),$sibling=$($this.siblings(".tab-selected")),$sibling.removeClass("tab-selected"),$this.addClass("tab-selected"),visible_content=$sibling.attr("data-container"),$("."+visible_content).hide(),hidden_content=$this.attr("data-container"),$("."+hidden_content).show()}),$(".right-pane").on("keyup input",".wmd-input",function(){var a=this.offsetHeight-this.clientHeight,b=$(".right-pane").scrollTop();$(this).css("height","auto").css("height",this.scrollHeight+a),$(".right-pane").scrollTop(b)}).removeAttr("data-autoresize");var allPermissionsStatus={},areAllPermissionsEnabledByUser=function(){for(var a in allPermissionsStatus)if(!allPermissionsStatus[a])return!1;return!0};window.showWebcamPermissions=showWebcamPermissions,document.addEventListener("fullscreenchange",fullscreenChanged,!1),document.addEventListener("webkitfullscreenchange",fullscreenChanged,!1),document.addEventListener("mozfullscreenchange",fullscreenChanged,!1),document.addEventListener("MSFullscreenChange",fullscreenChanged,!1);var RecruiterApp=RecruiterApp||{};RecruiterApp.duringTest={initWebcam:function(){Webcam.attach("#my-camera"),Webcam.on("live",function(){$("#my-camera").trigger("webcam:live"),$("#webcam-errors-dialog").addClass("hidden")}),Webcam.on("error",function(){$("#webcam-errors-dialog").removeClass("hidden")})}};